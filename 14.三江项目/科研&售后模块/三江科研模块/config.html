<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>科研工作台</title>
		<link rel="stylesheet" href="layui/css/layui.css">
		<link rel="stylesheet" href="./css/index.css">
	</head>
	<body>

		<div>
			<div class="layui-row header">
				<div class="layui-col-xs6">
					<img class="logo" src="./images/nian.png">
					<span class="title">
						航天三江xxx系统
					</span>
				</div>
				<div class="layui-col-xs6 top">
					<ul class="layui-nav fr" lay-filter="">
						<li class="layui-nav-item"><a href="javascript:;"><img class="notice" src="images/tongzhi@2x.png"></a></li>
						<li class="layui-nav-item"><a href="javascript:;"><img class="headerIcon" src="images/wenhao-yuankuang@2x.png"></a></li>
						<li class="layui-nav-item"><a href="javascript:;"><img class="editIcon" src="images/qiabianji-2@2x.png"></a></li>
						<li class="layui-nav-item">
							<div class="headerBar"></div>
						</li>
						<li class="layui-nav-item">
							<a href="javascript:;">
								<img class="pic" src="images/nian.png">
								乔巴
							</a>
							<dl class="layui-nav-child">
								<!-- 二级菜单 -->
								<dd><a href="">修改密码</a></dd>
								<dd><a href="">注销</a></dd>
							</dl>
						</li>
					</ul>
				</div>
			</div>
			<div class="layui-row leftNav">
				<div class="leftNavPre">
					<!-- <div class="layui-col-xs10 borR"> -->
					<input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input">
					<ul class="layui-nav layui-nav-tree" lay-filter="test">
						<li class="layui-nav-item">
							<a href="javascript:;"><img class="toGrey" src="images/xinghao@2x2.png"><img class="whiteIcon" src="images/xinghao@2x.png">xxx型号</a>
							<dl class="layui-nav-child">
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000013项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000014项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000015项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000016项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000017项目</a></dd>
							</dl>
						</li>
						<li class="layui-nav-item">
							<a href="javascript:;"><img class="toGrey" src="images/xinghao@2x2.png"><img class="whiteIcon" src="images/xinghao@2x.png">xxx型号</a>
							<dl class="layui-nav-child">
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000013项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000014项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000015项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000016项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000017项目</a></dd>
							</dl>
						</li>
						<li class="layui-nav-item">
							<a href="javascript:;"><img class="toGrey" src="images/xinghao@2x2.png"><img class="whiteIcon" src="images/xinghao@2x.png">xxx型号</a>
							<dl class="layui-nav-child">
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000013项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000014项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000015项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000016项目</a></dd>
								<dd><a href="javascript:;"><img class="imgIconSmall" src="images/xiangmu-2@2x.png">A000017项目</a></dd>
							</dl>
						</li>
					</ul>
					<!-- </div> -->
				</div>
				<div class="rightContent2">
					<div class="layui-row bread">
						当前位置：
						<span class="layui-breadcrumb" lay-separator=">">
							<a href="">首页</a>
							<a href="">项目配置</a>
							<a><cite>基本信息</cite></a>
						</span>
					</div>
					<div class="layui-tab layui-tab-card">
						<ul class="layui-tab-title">
							<li>计划管理</li>
							<li>整合管理</li>
							<li>飞行试验管理</li>
							<li>阶段管理</li>
							<li class="layui-this">项目配置</li>
						</ul>
						<div class="layui-tab-content">
							<div class="layui-tab-item">1</div>
							<div class="layui-tab-item">2</div>
							<div class="layui-tab-item">3</div>
							<div class="layui-tab-item">4</div>
							<div class="layui-tab-item layui-show">
								<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
									<ul class="layui-tab-title">
										<li>基本信息</li>
										<li>阶段配置</li>
										<li class="layui-this">阶段模板</li>
										<li>产物上报</li>
									</ul>
									<div class="layui-tab-content">
										<div class="layui-tab-item">
											<div class="layui-row">
												<div class="layui-col-xs6">
													<form class="layui-form" action="">
														<div class="layui-form-item">
															<label class="layui-form-label">型号</label>
															<div class="layui-input-block">
																<select name="city" lay-verify="required">
																	<option value=""></option>
																	<option value="0">北京</option>
																	<option value="1">上海</option>
																	<option value="2">广州</option>
																	<option value="3">深圳</option>
																	<option value="4">杭州</option>
																</select>
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">项目名称</label>
															<div class="layui-input-block">
																<select name="city" lay-verify="required">
																	<option value=""></option>
																	<option value="0">北京</option>
																	<option value="1">上海</option>
																	<option value="2">广州</option>
																	<option value="3">深圳</option>
																	<option value="4">杭州</option>
																</select>
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">项目类型</label>
															<div class="layui-input-block">
																<select name="city" lay-verify="required">
																	<option value=""></option>
																	<option value="0">北京</option>
																	<option value="1">上海</option>
																	<option value="2">广州</option>
																	<option value="3">深圳</option>
																	<option value="4">杭州</option>
																</select>
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">集团项目号</label>
															<div class="layui-input-block">
																<input type="text" name="title" required lay-verify="required" placeholder="请输入标题" autocomplete="off"
																 class="layui-input">
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">是否上报集团</label>
															<div class="layui-input-block">
																<input type="checkbox" name="switch" lay-skin="switch">
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">管理一岗</label>
															<div class="layui-input-block">
																<select name="city" lay-verify="required">
																	<option value=""></option>
																	<option value="0">北京</option>
																	<option value="1">上海</option>
																	<option value="2">广州</option>
																	<option value="3">深圳</option>
																	<option value="4">杭州</option>
																</select>
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">管理二岗</label>
															<div class="layui-input-block">
																<select name="city" lay-verify="required">
																	<option value=""></option>
																	<option value="0">北京</option>
																	<option value="1">上海</option>
																	<option value="2">广州</option>
																	<option value="3">深圳</option>
																	<option value="4">杭州</option>
																</select>
															</div>
														</div>
														<div class="layui-form-item">
															<label class="layui-form-label">是否已完结</label>
															<div class="layui-input-block">
																<input type="checkbox" name="switch" lay-skin="switch">
															</div>
														</div>
														<div class="layui-form-item fr">
															<div class="layui-input-block">
																<button class="layui-btn" lay-submit lay-filter="formDemo">保存</button>
																<button type="reset" class="layui-btn layui-btn-primary">取消</button>
															</div>
														</div>
													</form>
												</div>
											</div>
										</div>
										<div class="layui-tab-item  config">
											<div class="layui-row dashBox">
												<span class="title">【bakaa-2786项目】</span>
												<span class="titleBl">阶段步骤与交付产物配置</span>
												<button type="button" class="layui-btn fr btn">保存</button>
												<button type="button" class="layui-btn layui-btn-primary btn fr">取消</button>
											</div>
											<div class="layui-row mt20">
												<div class="wd20 firstStep">
													<div class="mid">
														<div class="radiusConfig">
															1
														</div>
														<div class="nameConfig">
															论证阶段
														</div>
													</div>

												</div>
												<div class="wd20 midStep">
													<div class="mid">
														<div class="radiusConfig">
															2
														</div>
														<div class="nameConfig">
															方案阶段
														</div>
													</div>
												</div>
												<div class="wd20 midStep">
													<div class="mid">
														<div class="radiusConfig">
															3
														</div>
														<div class="nameConfig">
															初样研制阶段
														</div>
													</div>
												</div>
												<div class="wd20 midStep">
													<div class="mid">
														<div class="radiusConfig">
															4
														</div>
														<div class="nameConfig">
															试样研制阶段
														</div>
													</div>
												</div>
												<div class="wd20 lastStep">
													<div class="mid">
														<div class="radiusConfig">
															5
														</div>
														<div class="nameConfig">
															状态鉴定阶段
														</div>
													</div>
												</div>
											</div>
											<div class="layui-row taskBox">
												<div class="layui-row">
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																1
															</div>
															<div class="taskName">
																任务名称
															</div>
															<div class="addBtn firstAddBtn">
																+
															</div>
														</div>
														<div class="layui-row" id="task">
															<!-- <div class="layui-row addBox">
																<div class="selectBox fl">
																	√
																</div>
																<div class="fl addBoxName">
																	论证工作启动
																</div>
															</div>
															<div class="layui-row addBox selected">
																<div class="selectBox fl">
																	√
																</div>
																<div class="fl addBoxName">
																	论证工作启动
																</div>
																<img class="trSelectedIcon" src="images/xuanzhonglan@2x.png" >
															</div>
															<div class="layui-row addBox selectedGr">
																<div class="selectBox fl">
																	√
																</div>
																<div class="fl addBoxName">
																	其他
																</div>
																<input type="text" name="title" required  lay-verify="required" placeholder="请输入" autocomplete="off" class="fl layui-input">
																<img class="fr deleteIcon" src="images/delete.png" >
																<img class="fr editIcon" src="images/edit.png" >
																<img class="trSelectedIcon" src="images/xuanzhonglv@2x.png" >
															</div> -->
														</div>
													</div>
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																2
															</div>
															<div class="taskName">
																需求确认
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
													</div>
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																3
															</div>
															<div class="taskName">
																研制工作
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
													</div>
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																4
															</div>
															<div class="taskName">
																研制工作
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
													</div>
													<div class="wd20 leftBor">
														<div class="layui-row handOver">
															交付产品配置
														</div>
														<div class="handOverBox">
															<div class="layui-row addBox ">
																<div class="selectBox fl">
																	√
																</div>
																<input type="text" name="title" required lay-verify="required" placeholder="请输入" autocomplete="off"
																 class="fl layui-input">
																<button class="fr layui-btn layui-btn-normal" type="button">文件</button>
															</div>
														</div>
													</div>
												</div>

											</div>
										</div>
										<div class="layui-tab-item config layui-show">
											<div class="layui-row dashBox">
												<span class="title">【bakaa-2786项目】</span>
												<span class="titleBl">阶段步骤与交付产物配置</span>
												<button type="button" class="layui-btn fr btn">保存</button>
												<button type="button" class="layui-btn layui-btn-primary btn fr">取消</button>
											</div>
											<div class="layui-row">
												<div class="layui-row">
													<div class="layui-col-xs2 boxModel">
														<div class="checkBoxModel">
															-
														</div>
														<span>预研项目</span>
													</div>
													<div class="layui-col-xs10">
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>

														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
													</div>
												</div>
												<div class="layui-row">
													<div class="layui-col-xs2 boxModel checked">
														<div class="checkBoxModel">
															-
														</div>
														<span>预研项目</span>
													</div>
													<div class="layui-col-xs10">
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>

														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
														<span class="checkBoxValue"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</span>
													</div>
												</div>
											</div>
										</div>
										<div class="layui-tab-item config">
											<div class="layui-row dashBox">
												<span class="title">【bakaa-2786项目】</span>
												<span class="titleBl">阶段步骤与交付产物配置</span>
												<button type="button" class="layui-btn fr btn">保存</button>
												<button type="button" class="layui-btn layui-btn-primary btn fr">取消</button>
											</div>
											<div class="layui-row mt20">
												<div class="wd20 firstStep">
													<div class="mid">
														<div class="radiusConfig">
															1
														</div>
														<div class="nameConfig">
															论证阶段
														</div>
													</div>

												</div>
												<div class="wd20 midStep">
													<div class="mid">
														<div class="radiusConfig">
															2
														</div>
														<div class="nameConfig">
															方案阶段
														</div>
													</div>
												</div>
												<div class="wd20 midStep">
													<div class="mid">
														<div class="radiusConfig">
															3
														</div>
														<div class="nameConfig">
															初样研制阶段
														</div>
													</div>
												</div>
												<div class="wd20 midStep">
													<div class="mid">
														<div class="radiusConfig">
															4
														</div>
														<div class="nameConfig">
															试样研制阶段
														</div>
													</div>
												</div>
												<div class="wd20 lastStep">
													<div class="mid">
														<div class="radiusConfig">
															5
														</div>
														<div class="nameConfig">
															状态鉴定阶段
														</div>
													</div>
												</div>
											</div>
											<div class="layui-row taskBox">
												<div class="layui-row">
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																1
															</div>
															<div class="taskName">
																任务名称
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
														<div class="layui-row" id="task2">

														</div>
													</div>
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																2
															</div>
															<div class="taskName">
																需求确认
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
													</div>
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																3
															</div>
															<div class="taskName">
																研制工作
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
													</div>
													<div class="wd20">
														<div class="layui-row stepTitle">
															<div class="radiusStep">
																4
															</div>
															<div class="taskName">
																研制工作
															</div>
															<div class="addBtn">
																+
															</div>
														</div>
													</div>
													<div class="wd20 leftBor">
														<div class="layui-row handOver">
															交付产品配置
														</div>
														<div class="handOverBox">
															<div class="layui-row  ">
																<button class="wd90 layui-btn layui-btn-normal" type="button"><img src="images/upload.png">上传交付文件</button>
															</div>
															<div class="layui-row">
																<div class="wd90"><input type="checkbox" name="vehicle" value="Bike" /> 综合保障要求分析论证</div>
															</div>
														</div>
													</div>
												</div>

											</div>
										</div>
									</div>
								</div>


							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<script src="./js/template-web.js"></script>
		<script src="./js/jquery1.8.1.min.js"></script>
		<script src="./js/echarts.min.js"></script>
		<script src="layui/layui.js"></script>
		<script id="task-template" type="text/html">
			{{each data}}
				<div class="layui-row addBox {{$value.dataType=='0'?($value.checked?'selected':''):($value.checked?'selectedGr':'')}}">
					<div class="selectBox fl" data-index="{{$index}}">
						√
					</div>
					<div class="fl addBoxName">
						{{$value.value}}
					</div>
					{{if $value.dataType=='0'&&$value.checked}}
						<img class="trSelectedIcon" src="images/xuanzhonglan@2x.png" >
					{{/if}}
					{{if $value.dataType=='1'}}
						<input type="text" name="title" required data-index="{{$index}}"  lay-verify="required" placeholder="请输入" autocomplete="off" class="fl disNone layui-input">
						<img  class="fr deleteIcon" data-index="{{$index}}" src="images/delete.png" >
						<img class="fr editIcon editInputIcon" src="images/edit.png" >
					{{/if}}
					{{if $value.dataType=='1'&&$value.checked}}
						<img class="trSelectedIcon" src="images/xuanzhonglv@2x.png" >
					{{/if}}
					
					
				</div>
			{{/each}}
		</script>
		<script id="task2-template" type="text/html">
			{{each data}}
				<div class="layui-row addBox {{$value.dataType=='0'?'':($value.dataType=='1'?'selected':'selectedGr')}}">
					<div class="fl addBoxName">
						{{$value.value}}
					</div>
				</div>
			{{/each}}
		</script>
		<script>
			var dataBar = [{
				value: '论证工作启动',
				dataType: '0',
				checked: true
			}, {
				value: '论证工作启动',
				dataType: '1',
				checked: true
			}, {
				value: '论证工作启动',
				dataType: '0',
				checked: false
			}, {
				value: '论证工作启动',
				dataType: '1',
				checked: false
			}]
			let html1 = template('task-template', {
				data: dataBar
			})
			let html2 = template('task2-template', {
				data: dataBar
			})
			console.log(html2)
			$('#task').append(html1);
			$('#task2').append(html2);
			$(".firstAddBtn").click(function() {
				dataBar.push({
					value: '请编辑',
					dataType: '1',
					checked: false
				})
				let html1 = template('task-template', {
					data: dataBar
				})
				$('#task').html(html1);
			})
			$('.editInputIcon').live('click', function(event) {
				$(this).siblings(".addBoxName").addClass("disNone")
				$(this).siblings(".layui-input").removeClass("disNone")
			});
			$('.layui-input').live('keypress', function(event) {
				if (event.keyCode == "13") {
					console.log($('.layui-input').val())
					dataBar[event.target.dataset.index].value = $(this).val()
					console.log(dataBar)
					let html1 = template('task-template', {
						data: dataBar
					})
					$('#task').html(html1);
				}
			});
			$(".deleteIcon").live('click',function(e){
				dataBar.splice(e.target.dataset.index,1)
				let html1 = template('task-template', {
					data: dataBar
				})
				$('#task').html(html1);
			})
			$(".selectBox").live('click',function(e) {
				dataBar[event.target.dataset.index].checked = !dataBar[event.target.dataset.index].checked
				let html1 = template('task-template', {
					data: dataBar
				})
				$('#task').html(html1);
			})
			layui.use(function() {
				var layer = layui.layer,
					form = layui.form,
					laypage = layui.laypage,
					element = layui.element,
					laydate = layui.laydate,
					util = layui.util;
			});
		</script>
	</body>
</html>
