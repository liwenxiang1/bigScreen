<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>沪东重机</title>
  <link rel="stylesheet" href="./mainview/layui/css/layui.css">
  <link rel="stylesheet" href="./mainview/css/index.css">
</head>

<body>

  <div>
    <div class="layui-row leftNav">
      <div class="rightContent">
        <div class="layui-row pr25">

          <div class="wd5">
            <div class="todo bg-FEA726">
              <div class="todoTitle">
                项目总投资
              </div>
              <div class="todocontent">959,310.35<span>万元</span></div>
            </div>
          </div>

          <div class="wd5">
            <div class="todo bg-5C6BC0">
              <div class="todoTitle">
                累计完成投资
              </div>
              <div class="todocontent">500,310.25<span>万元</span></div>
            </div>
          </div>

          <div class="wd5">
            <div class="todo bg-9CCD65">
              <div class="todoTitle">
                累计完成占比
              </div>
              <div class="todocontent">52.65<span>%</span></div>
            </div>
          </div>
        </div>
        <div class="layui-row page">
          <div class="layui-col-xs2 h100 pr25">
            <div class="investment-label bg-0C1C34">
              <div id="echartsList1"></div>
              
            </div>
          </div>
          <div class="layui-col-xs10 pr25">


            <div class="layui-col-xs6 pr25">
              <div class="todobox bg-0C1C34">
                <div class="layui-row">
                  <div class="headerTitle">项目年度完成投资</div>
                  <div class="layui-col-xs12" id="yearInvestmentDiv"></div>
                </div>
              </div>
            </div>
            <div class="layui-col-xs6 pr25">
              <div class="todobox bg-0C1C34">
                <div class="layui-row">
                  <div class="headerTitle">各标段累计完成投资</div>
                  <div class="layui-col-xs12" id="sectionInvestmentDiv"></div>
                </div>
              </div>
            </div>
            <div class="layui-col-xs6 pr25">
              <div class="todobox bg-0C1C34">
                <div class="layui-row">
                  <div class="headerTitle">项目月段完成投资</div>
                  <div class="layui-col-xs12" id="monthInvestmentDiv"></div>
                </div>
              </div>
            </div>
            <div class="layui-col-xs6 pr25">
              <div class="todobox bg-0C1C34">
                <div class="layui-row">
                  <div class="headerTitle">标段月累计完成投资</div>
                  <div class="layui-col-xs12" id="sectionMonthInvestmentDiv"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="layui-row">
        </div>
      </div>
    </div>
  </div>
  <script src="./mainview/js/template-web.js"></script>
  <script src="./mainview/js/jquery1.8.1.min.js"></script>
  <script src="./mainview/js/echarts.min.js"></script>
  <script src="./mainview/js/investmentEcharts.js"></script>
  <script src="./mainview/layui/layui.js"></script>
  <script id="echartsList1-template" type="text/html">
    <div class="label-item">
      <div class="label-img">
        <img class="label-img" src="./mainview/images/label.png">
      </div>
      <div class="label-title">全部</div>
    </div>
    {{each data}}
    <div class="label-item">
      <div class="label-img">
        <img class="label-img" src="./mainview/images/company.png">
      </div>
      <div class="label-title">{{$value.name}}</div>
    </div>
    {{/each}}
  </script>
  <script>
    //给左侧菜单栏赋值
    var dataBefore = [{
      name: 'ZYSQ1.1标'
    }, {
      name: 'ZYSQ1.2标'
    }, {
      name: 'ZYSQ1.3标'
    }, {
      name: 'ZYSQ1.4标'
    }, {
      name: 'ZYSQ1.5标'
    }, {
      name: 'ZYSQ1.6标'
    }, {
      name: 'ZYSQ1.7标'
    }, {
      name: 'ZYSQ1.8标'
    }, {
      name: 'ZYSQ1.9标'
    }, {
      name: 'ZYSQ1.9标'
    }]
    var data = []
    for (var i = 0; i < dataBefore.length; i++) {
      data.push({
        name: dataBefore[i].name
      })
    }
    let echartsList1 = template('echartsList1-template', {
      data: dataBefore
    })
    $('#echartsList1').append(echartsList1);
    //给echarts图表赋值（项目年度完成投资）
    var yearInvestmentData = [{
      time: '2020',
      completed: '200000',
      proportion: '100',
      plan: '200000'
    }, {
      time: '2020',
      completed: '203236',
      proportion: '69',
      plan: '295000'
    }, {
      time: '总投资',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }]
    var yearInvestmentX = {
      plan: [],
      completed: [],
      proportion: [],
      time:[]
    }
    for (var i = 0; i < yearInvestmentData.length; i++) {
      yearInvestmentX.plan.push(Number(yearInvestmentData[i].completed) - (Number(yearInvestmentData[i].completed) *
        Number(yearInvestmentData[i].proportion) /
        100))
      yearInvestmentX.time.push(yearInvestmentData[i].time)
      yearInvestmentX.completed.push(yearInvestmentData[i].completed)
      yearInvestmentX.proportion.push(yearInvestmentData[i].proportion)
    }
    //给echarts图表赋值（各标段累计完成投资）
    var sectionInvestmentData = [{
      time: '1.1',
      completed: '200000',
      proportion: '100',
      plan: '200000'
    }, {
      time: '1.2',
      completed: '203236',
      proportion: '69',
      plan: '295000'
    }, {
      time: '1.3',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '1.4',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '1.5',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '1.6',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '1.7',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }]
    var sectionInvestmentX = {
      plan: [],
      completed: [],
      proportion: [],
      time:[]
    }
    for (var i = 0; i < sectionInvestmentData.length; i++) {
      sectionInvestmentX.plan.push(Number(sectionInvestmentData[i].completed) - (Number(sectionInvestmentData[i]
          .completed) *
        Number(sectionInvestmentData[i].proportion) /
        100))
      sectionInvestmentX.time.push(sectionInvestmentData[i].time)
      sectionInvestmentX.completed.push(sectionInvestmentData[i].completed)
      sectionInvestmentX.proportion.push(sectionInvestmentData[i].proportion)
    }
    //给echarts图表赋值（项目月度完成投资）
    var monthInvestmentData = [{
      time: '2020-1',
      completed: '200000',
      proportion: '100',
      plan: '200000'
    }, {
      time: '2020-2',
      completed: '203236',
      proportion: '69',
      plan: '295000'
    }, {
      time: '2020-3',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-4',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-5',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-6',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-7',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }]
    var monthInvestmentX = {
      plan: [],
      completed: [],
      proportion: [],
      time:[]
    }
    for (var i = 0; i < monthInvestmentData.length; i++) {
      monthInvestmentX.plan.push(Number(monthInvestmentData[i].completed) - (Number(monthInvestmentData[i]
          .completed) *
        Number(monthInvestmentData[i].proportion) /
        100))
        monthInvestmentX.time.push(monthInvestmentData[i].time)
        monthInvestmentX.completed.push(monthInvestmentData[i].completed)
        monthInvestmentX.proportion.push(monthInvestmentData[i].proportion)
    }
    //给echarts图表赋值（标段月度完成投资）
    var sectionMonthInvestmentData = [{
      time: '2020-1',
      completed: '200000',
      proportion: '100',
      plan: '200000'
    }, {
      time: '2020-2',
      completed: '203236',
      proportion: '69',
      plan: '295000'
    }, {
      time: '2020-3',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-4',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-5',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-6',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }, {
      time: '2020-7',
      completed: '300000',
      proportion: '32',
      plan: '910000'
    }]
    var sectionMonthInvestmentX = {
      plan: [],
      completed: [],
      proportion: [],
      time:[]
    }
    for (var i = 0; i < sectionMonthInvestmentData.length; i++) {
      sectionMonthInvestmentX.plan.push(Number(sectionMonthInvestmentData[i].completed) - (Number(sectionMonthInvestmentData[i]
          .completed) *
        Number(sectionMonthInvestmentData[i].proportion) /
        100))
        sectionMonthInvestmentX.time.push(sectionMonthInvestmentData[i].time)
        sectionMonthInvestmentX.completed.push(sectionMonthInvestmentData[i].completed)
      sectionMonthInvestmentX.proportion.push(sectionMonthInvestmentData[i].proportion)
    }
    layui.use(function () {
      var layer = layui.layer,
        form = layui.form,
        laypage = layui.laypage,
        element = layui.element,
        laydate = layui.laydate,
        util = layui.util;
      radarInit()
    });
  </script>
</body>

</html>